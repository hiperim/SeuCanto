<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>SeuCanto - Suas loja de bags online</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <!-- Zipper Animation Container -->
    <div id="zipper-container">
        <!-- Left fabric panel - white -->
        <div class="fabric-panel fabric-left" id="fabric-left">
            <div class="fabric-texture"></div>
        </div>
            
        <!-- Right fabric panel - white -->
        <div class="fabric-panel fabric-right" id="fabric-right">
            <div class="fabric-texture"></div>
        </div>
            
        <!-- Zipper teeth - generated by JS -->
        <div class="zipper-teeth" id="zipper-teeth"></div>
            
        <!-- Zipper slider -->
        <div class="zipper-slider" id="zipper-slider">
            <div class="slider-body">
                <div class="slider-crown"></div>
                <div class="slider-pull"></div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="header">
        <div id="headerContainer" class="container">
            <div class="header-content">
                    
                <div class="logo" onclick="refreshToAnimation(), showPage('home')";>
                    <img src="https://i.ibb.co/qMGQwswk/Seucantto2.png" alt="SeuCanto Logo" class="logo-img">
                    <h1>SeuCanto</h1>
                </div>
                    
                <nav class="nav-menu">
                    <a href="#home" tabindex="1" onclick="showPage('home')">·Início·</a>
                    <a href="#history" tabindex="2" onclick="showPage('history')">·Nossa história·</a>
                    <a href="#faq" tabindex="3" onclick="showPage('faq')">·FAQ·</a>
                </nav>
                    
                <div class="header-actions">
                    <button class="cart-btn" onclick="showCart()">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="9" cy="21" r="1"></circle>
                            <circle cx="20" cy="21" r="1"></circle>
                            <path d="m1 1 4 4 2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                        </svg>
                        <span class="cart-count" id="cartCount">0</span>
                    </button>
                    <button class="user-btn" onclick="handleUserIconClick()">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                            <circle cx="12" cy="7" r="4"></circle>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- MAIN CONTENT -->
    <main class="main-content">
        <div id="homepage-content" tabindex="1" class="homepage-content">
            <!-- Home Page -->
            <div id="homePage" class="page active">
                <div class="page-container">
                    <div class="hero-container">
                        <section class="hero-section">
                            <h2>Seu estilo, sua moda, SeuCanto</h2>
                            <h3>Bags selecionadas com<br>
                                os melhores preços</h3>
                        </section>
                    </div>
                    <div class="grid-container">
                        <section class="products-grid" id="productsGrid">
                            <!-- Products will be populated by JS -->
                        </section>
                    </div>
                    <div class="depoimentos-container">
                         <section id="allReviews" class="depoimentos-clientes">
                            <h2>O que nossos clientes dizem</h2>
                            <div id="reviewsContainer" class="reviews-container">
                                <!-- Top 3 reviews will be populated by JS -->
                            </div>
                            <div class="review-actions">
                                <button class="btn btn--primary" onclick="app.showReviewModal()">Seu depoimento</button>
                                <button class="btn btn--secondary" tabindex="5" onclick="app.showPage('allReviews')">Todos depoimentos</button>
                            </div>
                        </section>
                    </div>
                </div>
            </div>

            <!-- Cart Page -->
            <div id="cartPage" class="page">
                <div class="page-container">
                    <button class="btn btn--outline mb-16" onclick="window.app.showPage('home')">← Voltar</button>
                    <h2>Carrinho de Compras</h2>
                    <div id="cartItems"></div>
                    <div class="cart-summary" id="cartSummary"></div>
                    <div class="shipping-calculator">
                        <h3>Calcular Frete</h3>
                        <div class="form-group">
                            <input type="text" id="cepInput" class="form-control" placeholder="Digite seu CEP" maxlength="9">
                            
                            <button class="btn btn--primary" onclick="calculateShipping()">Calcular</button>
                        </div>
                        <div id="shippingResult">
                            <!-- Shipping result populated by JS code -->
                        </div>
                    <div class="cart-actions">
                        <button class="btn btn--primary btn--full-width" onclick="proceedToShipping()">
                            Finalizar Compra
                        </button>
                    </div>
                    </div>
                </div>
            </div>

            <!-- Shipping Address Page -->
            <div id="shippingPage" class="page">
                <div class="page-container">
                    <button class="btn btn--outline mb-16" onclick="window.app.showPage('home')">← Voltar</button>
                    <form id="shippingForm" class="shipping-form">
                        <h2>Endereço de Entrega</h2>
                        <div class="form-group">
                            <label class="form-label">CEP</label>
                            <input type="text" id="shippingCep" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Rua</label>
                            <input type="text" id="shippingStreet" class="form-control" readonly>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Bairro</label>
                            <input type="text" id="shippingNeighborhood" class="form-control" readonly>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Cidade</label>
                            <input type="text" id="shippingCity" class="form-control" readonly>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Estado</label>
                            <input type="text" id="shippingState" class="form-control" readonly>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Número</label>
                            <input type="text" id="shippingNumber" class="form-control" maxlength="8" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Complemento (opcional)</label>
                            <input type="text" id="shippingComplement" class="form-control" maxlength="16">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Telefone</label>
                            <input type="text" id="shippingPhone" class="form-control" placeholder="(11) 99999-9999" required>
                        </div>
                        <div class="form-group">
                            <label for="shippingRecipient">Destinatário:</label>
                            <input type="text" id="shippingRecipient" class="form-control" 
                                placeholder="Nome completo do destinatário" required>
                        </div>

                        <div class="form-group">
                            <label for="shippingCpf">CPF:</label>
                            <input type="text" id="shippingCpf" class="form-control" 
                                placeholder="000.000.000-00" maxlength="14" required>
                        </div>
                        <button type="submit" class="btn btn--primary btn--full-width">Continuar para Pagamento</button>
                    </form>
                </div>
            </div>
            
            <!-- ALL REVIEWS PAGE -->
            <div id="allReviewsPage" class="page" data-page="allReviews">
                <div class="page-container">
                    <div id="allReviewsContainer">
                        <!-- Content by JS method renderAllReviews() -->
                    </div>
                </div>    
            </div>

            <!-- Payment Page -->
            <div id="paymentPage" class="page">
                <div class="page-container">
                    <button class="btn btn--outline mb-16" onclick="window.app.showPage('home')">← Voltar</button>
                    <h2>Pagamento</h2>
                    <div class="payment-methods">
                        <div class="payment-method" onclick="selectPaymentMethod('credit')">
                            <input type="radio" name="payment" value="credit" id="creditCard">
                            <label for="creditCard">Cartão de Crédito</label>
                        </div>
                        <div class="payment-method" onclick="selectPaymentMethod('pix')">
                            <input type="radio" name="payment" value="pix" id="pix">
                            <label for="pix">PIX</label>
                        </div>
                    </div>
                    <div id="paymentDetails"></div>
                    <div class="order-summary" id="orderSummary"></div>
                    <button class="btn btn--primary btn--full-width" onclick="processPayment()">Finalizar Compra</button>
                </div>
            </div>

            <!-- User Profile Page -->
            <div id="profilePage" class="page">
                <div class="page-container">
                    <button class="btn btn--outline mb-16" onclick="window.app.showPage('home')">← Voltar</button>
                    <h2>Meu Perfil</h2>
                    <div class="profile-info-grid">
                        <!-- User Information Box with Edit Button -->
                        <div class="profile-info-box">
                            <h3>Informações pessoais</h3>
                            <div id="userInfoContent" class="info-content">
                                <!-- Populated by JavaScript -->
                            </div>
                            <!-- Edit button -->
                            <button class="btn btn--primary btn--full-width" onclick="showPage('edit-info')" style="margin-top: var(--space-16);">
                                Editar infos pessoais
                            </button>
                            <!-- Logout button -->
                            <button class="btn btn--primary btn--full-width" onclick="window.app.logout()" style="margin-top: var(--space-8);">
                                Sair da Conta
                            </button>
                        </div>
                        
                        <!-- Contact Form Box -->
                        <div class="profile-info-box">
                            <h3>Formulário de contato</h3>
                            <div class="info-content">
                                <form id="profileContactForm" class="profile-contact-form">
                                    <div class="form-group">
                                        <label class="form-label">E-mail</label>
                                        <input type="email" id="contactEmail" class="form-control" readonly>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Assunto</label>
                                        <input type="text" id="contactSubject" class="form-control" required>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Motivo do Contato</label>
                                        <select id="contactReason" class="form-control" required>
                                            <option value="">Selecione o motivo</option>
                                            <option value="duvida">Dúvida sobre produto</option>
                                            <option value="entrega">Entrega</option>
                                            <option value="pagamento">Problema com pagamento</option>
                                            <option value="troca">Devolução</option>
                                            <option value="sugestao">Sugestão/Outro</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Mensagem</label>
                                        <textarea id="contactMessage" class="form-control" rows="4" required></textarea>
                                    </div>
                                    <button type="submit" class="btn btn--primary btn--full-width">Enviar Mensagem</button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Admin Page -->
            <div id="adminPage" class="page">
                <div class="page-container">
                    <h2>Painel Administrativo</h2>
                    <div class="admin-section">
                        <h3>Gerenciar produtos</h3>
                        <button class="btn btn--primary" onclick="showAddProduct()">Adicionar produto</button>
                        <div id="adminProductsList"></div>
                        <h3>Gerenciar depoimentos</h3>
                        <div id="adminReviewsContainer" class="admin-reviews-container">
                            <!-- Admin reviews will be populated by JS -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- FAQ Page -->
            <div id="faqPage" tabindex="2" class="page">
                <div class="page-container">
                    <button class="btn btn--outline mb-16" onclick="window.app.showPage('home')">← Voltar</button>
                    <h1>Perguntas Frequentes</h1>
                    <div class="faq-content">
                        <h5>Esta página está em construção. Em breve teremos as principais dúvidas respondidas.</h5>
                    </div>
                </div>
            </div>

            <!-- Nossa história -->
            <div id="historyPage" tabindex="3" class="page">
                <div class="page-container">
                    <button class="btn btn--outline mb-16" onclick="window.app.showPage('home')">← Voltar</button>
                    <h1>Nossa História</h1>
                    <div class="history-content">
                        <h5>Esta página está em construção. Em breve disponibilizaremos nossa história completa.</h5>
                    </div>
                </div>
            </div>

            <!-- Privacy Policy Page -->
            <div id="privacyPage" tabindex="4" class="page">
                <div class="page-container">
                    <button class="btn btn--outline mb-16" onclick="window.app.showPage('home')">← Voltar</button>
                    <h1>Política de Privacidade</h1>
                    <div class="privacy-content">
                        <p>Esta página está em construção. Em breve disponibilizaremos nossa política de privacidade completa.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Edit Information Page -->
        <div id="edit-infoPage" class="page">
            <div class="page-container">
                <button class="btn btn--outline mb-16" onclick="window.app.showPage('profile')">← Voltar</button>
                <form id="editInfoForm" class="edit-info-form">
                    <h2>Editar Informações</h2>
                    <div class="form-group">
                        <label class="form-label">Nome Completo</label>
                        <input type="text" id="editName" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">E-mail</label>
                        <input type="email" id="editEmail" class="form-control" readonly>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Telefone</label>
                        <input type="text" id="editPhone" class="form-control" placeholder="(11) 99999-9999">
                    </div>
                    <div class="form-group">
                        <label class="form-label">CPF</label>
                        <input type="text" id="editCpf" class="form-control" placeholder="000.000.000-00" maxlength="14">
                    </div>
                    
                    <!-- Enhanced Address Section -->
                    <h2>Endereço</h2>
                    <div class="form-group">
                        <label class="form-label">CEP</label>
                        <input type="text" id="editCep" class="form-control" maxlength="9" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Rua</label>
                        <input type="text" id="editStreet" class="form-control" readonly>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Bairro</label>
                        <input type="text" id="editNeighborhood" class="form-control" readonly>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Cidade</label>
                        <input type="text" id="editCity" class="form-control" readonly>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Estado</label>
                        <input type="text" id="editState" class="form-control" readonly>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Número</label>
                        <input type="text" id="editNumber" class="form-control" maxlength="8" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Complemento (opcional)</label>
                        <input type="text" id="editComplement" class="form-control" maxlength="16">
                    </div>
                    <button type="submit" class="btn btn--primary btn--full-width">Salvar Alterações</button>
                </form>
            </div>
        </div>

        <!-- Product Detail Page -->
        <div class="product_pg">
            <div id="productDetailPage" class="page">
                <div class="page-container">
                    <button class="btn btn--outline mb-16" onclick="window.app.showPage('home')">← Voltar</button>
                    <div class="product-detail-container">
                        <div class="product-images">
                            <div class="main-image">
                                <img id="productMainImage" src="" alt="" class="main-product-image">
                            </div>
                            <div class="additional-images" id="additionalImages">
                                <!-- Additional images will be populated by JS -->
                            </div>
                        </div>
                        
                        <div class="product-details">
                            <h1 id="productDetailName" class="product-detail-name"></h1>
                            
                            <div class="product-detail-prices">
                                <span id="productDetailOriginalPrice" class="original-price-detail"></span>
                                <span id="productDetailSalePrice" class="sale-price-detail"></span>
                            </div>
                            
                            <div class="product-description">
                                <h3>Descrição</h3>
                                <p id="productDetailDescription"></p>
                            </div>
                            
                            <div class="product-specs">
                                <h3>Especificações</h3>
                                <div class="specs-grid">
                                    <div class="spec-item">
                                        <span class="spec-label">Dimensões:</span>
                                        <span id="productDetailDimensions"></span>
                                    </div>
                                    <div class="spec-item">
                                        <span class="spec-label">Peso:</span>
                                        <span id="productDetailWeight"></span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="product-detail-actions">
                                <button class="btn btn--buy-now btn--lg" id="buyNowDetailBtn">Comprar</button>
                                <button class="btn btn--add-cart btn--lg" id="addCartDetailBtn">Adicionar ao carrinho</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-top">
                <a href="#privacy" onclick="showPage('privacy')" class="footer-privacy-link">·Privacidade·</a>
            </div>
            <div class="footer-bottom">
                <a href="mailto:ignatowskiperim@gmail.com" class="footer-mail-link">
                    ignatowskiperim@gmail.com
                </a><br>
                © 2025 SeuCanto - CNPJ XXXXXXXXXXXXXXX
                <div class="footer-sub-bottom">
                    <a href="https://whatsapp.com" onclick="open">
                        <img src="https://img.icons8.com/m_outlined/512/whatsapp.png" alt="Whatsapp" class="footer-social-icon">
                    </a>
                    <a href="https://instagram.com" onclick="open">
                        <img src="https://img.icons8.com/?size=512&id=44907&format=png" alt="Instagram" class="footer-social-icon">
                    </a>
                </div>
            </div>
        </div> 
    </footer>

    <!-- Login modal -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('loginModal')">&times;</span>
            <h3>Login / Cadastro</h3>
            <form id="loginForm">
                <div class="form-group">
                    <label class="form-label">E-mail</label>
                    <input type="email" id="emailInput" class="form-control" required>
                </div>
                <button type="submit" class="btn btn--primary btn--full-width">Enviar Código</button>
            </form>
        </div>
    </div>

    <!-- Review modal -->
    <div id="reviewModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Seu Depoimento</h2>
                <span class="close" onclick="app.closeModal('reviewModal')">&times;</span>
            </div>
            <div class="modal-body">
                <form id="reviewForm">
                    <!-- Email field -->
                    <div class="form-group">
                        <label for="reviewEmail">E-mail *</label>
                        <input 
                            type="email" 
                            id="reviewEmail" 
                            class="form-control" 
                            required
                        >
                    </div>
                    <!-- Star rating -->
                    <div class="form-group">
                        <label class="form-label">Quantas estrelas você dá para sua última compra? *</label>
                        <div class="star-rating">
                            <span class="star" data-rating="1">★</span>
                            <span class="star" data-rating="2">★</span>
                            <span class="star" data-rating="3">★</span>
                            <span class="star" data-rating="4">★</span>
                            <span class="star" data-rating="5">★</span>
                        </div>
                        <input type="hidden" id="reviewRating" name="rating" required>
                    </div>
                    <!-- Comment field -->
                    <div class="form-group">
                        <label for="reviewComment">Seu comentário *</label>
                        <textarea 
                            id="reviewComment" 
                            class="form-control" 
                            rows="4" 
                            required
                            placeholder="Conte-nos sobre sua experiência..."
                            minlength="10"
                        ></textarea>
                    </div>
                    
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">Enviar Depoimento</button>
                        <button type="button" class="btn btn-secondary" onclick="app.closeModal('reviewModal')">Cancelar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>



    <!-- OTP modal -->
    <div id="otpModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('otpModal')">&times;</span>
            <h3>Verificação de E-mail</h3>
            <h6>Digite o código de 4 dígitos enviado para seu e-mail:</h6>
            <form id="otpForm">
                <div class="form-group">
                    <input type="text" id="otpInput" class="form-control" maxlength="4" required>
                </div>
                <p class="otp-timer">Código expira em: <span id="otpTimer">15:00</span></p>
                <button type="submit" class="btn btn--primary btn--full-width">Verificar</button>
            </form>
        </div>
    </div>

    <!-- Admin login modal -->
    <div id="adminLoginModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('adminLoginModal')">&times;</span>
            <h3>Acesso Administrativo</h3>
            <form id="adminLoginForm">
                <div class="form-group">
                    <label class="form-label">Usuário</label>
                    <input type="text" id="adminUsername" class="form-control" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Senha</label>
                    <input type="password" id="adminPassword" class="form-control" required>
                </div>
                <button type="submit" class="btn btn--primary btn--full-width">Entrar</button>
            </form>
        </div>
    </div>

    <!-- Product Modal -->
    <div id="productModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('productModal')">&times;</span>
            <h3 id="productModalTitle">Adicionar Produto</h3>
            <form id="productForm">
                <div class="form-group">
                    <label class="form-label">Nome</label>
                    <input type="text" id="productName" class="form-control" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Preço Original (R$)</label>
                    <input type="number" id="productOriginalPrice" class="form-control" step="0.01" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Preço de Venda (R$)</label>
                    <input type="number" id="productSalePrice" class="form-control" step="0.01" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Descrição</label>
                    <textarea id="productDescription" class="form-control" rows="4"></textarea>
                </div>
                <div class="form-group">
                    <label class="form-label">Largura (cm)</label>
                    <input type="number" id="productWidth" class="form-control" step="0.1" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Altura (cm)</label>
                    <input type="number" id="productHeight" class="form-control" step="0.1" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Profundidade (cm)</label>
                    <input type="number" id="productDepth" class="form-control" step="0.1" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Peso (kg)</label>
                    <input type="number" id="productWeight" class="form-control" step="0.001" required>
                </div>
                <!-- Image URL Fields -->
                <div class="form-group">
                    <label class="form-label">URL da Imagem 1 (Principal)</label>
                    <input type="url" id="productImage1" class="form-control" required>
                </div>
                <div class="form-group">
                    <label class="form-label">URL da Imagem 2</label>
                    <input type="url" id="productImage2" class="form-control">
                </div>
                <div class="form-group">
                    <label class="form-label">URL da Imagem 3</label>
                    <input type="url" id="productImage3" class="form-control">
                </div>
                <div class="form-group">
                    <label class="form-label">URL da Imagem 4</label>
                    <input type="url" id="productImage4" class="form-control">
                </div>
                <button type="submit" class="btn btn--primary btn--full-width">Salvar Produto</button>
            </form>
        </div>
    </div>

    <script type="text/javascript" 
        src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js">
    </script>

    <script type="text/javascript">
    (function(){
        emailjs.init({
            publicKey: "NGwJHe0io6sPytVMD", // AUTO E-MAIL PUBLIC-KEY
        });
    })();
    </script>

    <!-- Load the client-side from Github App auth-->
    <script src="auth/github-app-auth.js"></script>

    <script src="app.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            if (window.app && window.GitHubAppAuth) {
                window.app.githubAuth = new GitHubAppAuth();
                console.log('GitHub App authentication initialized');
            }
        });
    </script>
</body>
</html>